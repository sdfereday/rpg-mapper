<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Mapper</title>
    <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
    <link href='css/core.css' rel='stylesheet' type='text/css'>
</head>
<body>

<div class="container">

    <div id="ui">

      <p><strong>Map Options (fill these in before starting):</strong></p>
      <p>Dimensions (in units):</p>
      <form class="start-form" data-bind="css: { disabled: generated() }">
        <span>
          Width:
          <input type="text" id="mapWidth" value="11" data-bind="value: width, enable: !generated()" />
        </span>
        <span>
          Height:
          <input type="text" id="mapHeight" value="11" data-bind="value: height, enable: !generated()" />
        </span>
      </form>

      <p><strong>Initialize Map</strong></p>
      <button data-bind="enable: !generated()" id="generate">Start</button>

      <p><strong>Build ROT Foundations?</strong></p>
      <button data-bind="click: generateUsingROT">Generate</button>

      <form id="entities" data-bind="css: { enabled: !propMode() }">
        <p><strong>Foundation Tile Types</strong></p>
        <span>
        <input type="radio" name="entity" value="block" data-bind="checked: tileGraphic, enable: !propMode()"> Block
        </span>
      </form>

      <p><strong>Placement mode:</strong>
        <input type="checkbox" data-bind="checked: propMode, click: changeDefault" />
      </p>
      <form id="entities" data-bind="css: { enabled: propMode() }">
        <p><strong>Entity Tile Types</strong></p>
        <span>
        <input type="radio" name="entity" value="enemy" data-bind="checked: tileGraphic, enable: propMode"> Enemy
      </span>
        <span>
        <input type="radio" name="entity" value="chest" data-bind="checked: tileGraphic, enable: propMode"> Chest
      </span>
      </form>

      <p>
        <strong>Export data:</strong>
      </p>
      <button data-bind="click: exportData">Export</button>
      <p>
        <strong>Exported data output:</strong>
      </p>
      <div id="output" contenteditable="true" data-bind="text: exportedData"></div>

    </div>

    <div id="map" class="col-6">

        <p><strong>Map Preview:</strong></p>

        <div id="preview" data-bind="css: { foundationEnabled: !propMode(), foundationDisabled: propMode() }">
          <span data-bind="foreach: grid">
            <div class="sq" data-bind="style: positionCSS, css: { occupied: occupied() }, click: !$parent.propMode() ? clicked : null"></div>
          </span>
        </div>

        <div id="prop-preview" data-bind="css: { foundationEnabled: propMode(), foundationDisabled: !propMode() }">
          <span data-bind="foreach: propGrid">
            <div class="sq" data-bind="style: positionCSS, css: { occupied: occupied() }, click: $parent.propMode() ? clicked : null, text: decorType()"></div>
          </span>
        </div>

    </div>

</div>

    <!-- required -->
    <script src="require.conf.js"></script>
    <script data-main="main" src="bower_components/requirejs/require.js"></script>

</body>
</html>